---
format:
  html:
    toc: false
    code-fold: false
freeze: auto
---
::: {=html}
<style>
.pub-heading {
  color: white;
}
body {
  background-color: #030a1c;
  background-image:
    radial-gradient(circle at 78% 82%, rgba(255, 120, 40, 0.24), transparent 38%),
    radial-gradient(circle at 22% 22%, rgba(102, 195, 255, 0.24), transparent 34%),
    linear-gradient(112deg, rgba(2, 6, 23, 0.9) 0%, rgba(8, 14, 38, 0.84) 48%, rgba(11, 24, 53, 0.92) 100%);
  background-repeat: no-repeat;
}
a, a:link, a:visited {
  color: white;
}
a:hover, a:active {
  color: #EEEEEE;
}


/* Ensure Link column doesn't wrap */
.gt_table td:nth-last-child(1),
.gt_table th:nth-last-child(1) {
  white-space: nowrap;
  min-width: 80px;
}

/* Force gt table to be transparent on dark backgrounds */
.gt_table_container { background-color: transparent !important; }
/* Increase contrast and add text shadow for better readability */
.gt_table,
.gt_table .gt_heading,
.gt_table .gt_title,
.gt_table .gt_subtitle,
.gt_table .gt_col_headings,
.gt_table .gt_table_body,
.gt_table .gt_row,
.gt_table .gt_group_heading,
.gt_table .gt_sourcenotes,
.gt_table .gt_footnotes,
.gt_table .gt_stub,
.gt_table .gt_stub_row_group,
.gt_table .gt_column_spanner,
.gt_table .gt_column_spanner_outer,
.gt_table .gt_empty_group_heading {
  background-color: transparent !important;
  color: #d9d9d9 !important;
  text-shadow: 0 0 4px rgba(0,0,0,0.7);
}
/* Make gt table headers transparent */
.gt_table .gt_col_heading,
.gt_table .gt_column_spanner_outer,
.gt_table .gt_column_spanner {
  background-color: transparent !important;
}
/* Force column heading text to lighter color and add text shadow */
.gt_table .gt_col_heading {
  color: #d9d9d9 !important;
  text-shadow: 0 0 4px rgba(0,0,0,0.7);
}
/* Reaffirm transparent backgrounds for heading/title/subtitle */
.gt_table .gt_heading,
.gt_table .gt_title,
.gt_table .gt_subtitle {
  background-color: transparent !important;
}
/* Remove zebra striping/gradients if present */
.gt_table .gt_striped {
  background-color: transparent !important;
  background-image: none !important;
}
/* Subtle borders that work on dark mode */
.gt_table, .gt_table th, .gt_table td {
  border-color: rgba(255,255,255,0.25) !important;
}
/* Style links in gt_table for higher contrast and readability */
.gt_table a, .gt_table a:link, .gt_table a:visited {
  color: #d9d9d9 !important;
  text-decoration: underline;
  text-shadow: 0 0 4px rgba(0,0,0,0.7);
}
.gt_table a:hover, .gt_table a:active {
  color: #163D6B !important;
}

/* Highlight table text on hover */
.gt_table td:hover,
.gt_table th:hover {
  color: #ffffff !important; /* brighten text */
  text-shadow: 0 0 6px rgba(255,255,255,0.8);
  background-color: rgba(255,255,255,0.05) !important; /* subtle background highlight */
  transition: all 0.2s ease;
}




/* --- Playful circular publication badges --- */
/* --- Playful circular publication badges --- */
.pub-grid {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(220px, 1fr));
  gap: 20px;
  margin: 2rem 0 3rem 0;
}
.pub-bubble {
  position: relative;
  border-radius: 50%;
  aspect-ratio: 1 / 1;
  min-height: 180px;
  cursor: pointer;
  overflow: visible;
  transform-origin: center;
  transition: transform 220ms ease;
  outline: none;
}

.pub-bubble::before,
.pub-bubble::after {
  content: "";
  position: absolute;
  inset: -5px;
  border-radius: 50%;
  pointer-events: none;
  border: 1px solid rgba(126, 199, 255, 0.28);
  animation: bubble-pulse 3.2s ease-out infinite;
}

.pub-bubble::after {
  inset: -11px;
  opacity: 0.42;
  animation-delay: 1.4s;
}

.pub-bubble:hover {
  transform: translateY(-2px) scale(1.03);
}

.pub-bubble:focus-visible {
  box-shadow: 0 0 0 3px rgba(126, 199, 255, 0.45);
}

.pub-flip {
  position: absolute;
  inset: 0;
  border-radius: 50%;
  transform-style: preserve-3d;
  transition: transform 1000ms cubic-bezier(0.22, 0.61, 0.36, 1);
}

.pub-bubble:hover .pub-flip,
.pub-bubble:focus-within .pub-flip,
.pub-bubble.is-flipped .pub-flip {
  transform: rotateY(180deg);
}

.pub-face {
  position: absolute;
  inset: 0;
  border-radius: 50%;
  border: 1px solid rgba(255,255,255,0.24);
  background: radial-gradient(circle at 30% 22%, rgba(255,255,255,0.12), rgba(255,255,255,0.05) 45%, rgba(255,255,255,0.02) 100%);
  box-shadow: 0 8px 24px rgba(0,0,0,0.35);
  color: #d9d9d9;
  padding: 18px;
  display: flex;
  align-items: center;
  justify-content: center;
  text-align: center;
  backface-visibility: hidden;
}

.pub-front {
  z-index: 2;
}

.pub-back {
  transform: rotateY(180deg);
  flex-direction: column;
  gap: 0.45rem;
}

.pub-title {
  font-weight: 600;
  line-height: 1.25;
  font-size: 0.85rem;
}

.pub-meta {
  font-size: 0.8rem;
  line-height: 1.35;
  color: #e6eefc;
}

.pub-open {
  color: #f4f8ff !important;
  text-decoration: none;
  border: 1px solid rgba(255,255,255,0.34);
  background: rgba(255,255,255,0.08);
  border-radius: 999px;
  padding: 0.24rem 0.62rem;
  font-size: 0.78rem;
  font-weight: 600;
}

.pub-open:hover {
  background: rgba(255,255,255,0.17);
}

.pub-grid { perspective: 1200px; }
.pub-grid { overflow: visible; }
.pub-bubble { will-change: transform; }

@keyframes bubble-pulse {
  0% {
    transform: scale(1);
    opacity: 0.55;
  }
  75% {
    transform: scale(1.12);
    opacity: 0;
  }
  100% {
    transform: scale(1.12);
    opacity: 0;
  }
}

/* Respect reduced motion */
@media (prefers-reduced-motion: reduce) {
  .pub-bubble,
  .pub-flip {
    transition: none;
  }
  .pub-bubble::before,
  .pub-bubble::after {
    animation: none;
  }
  .pub-bubble .pub-flip {
    transform: none !important;
  }
}



</style>
:::

<script>
  (function(){
    const v = document.getElementById('bg-video');
    if (!v) return;
    // Fade in when we have enough to play
    v.addEventListener('loadeddata', () => { v.style.opacity = 1; }, { once: true });
    // As a safety, fade in after 1s even if the event is slow
    setTimeout(() => { if (v.style.opacity === '' || v.style.opacity === '0') v.style.opacity = 1; }, 1000);
  })();
</script>


```{r, include=TRUE, echo=FALSE, message=FALSE, warning=FALSE, results='asis'}
# install.packages("scholar") # run once
library(dplyr)
library(glue)
library(gt)
library(scholar)
library(htmltools)

id <- "nYA8PAsAAAAJ"  # Ben Brintz

# pull publications & guard against failures
pubs <- tryCatch(get_publications(id), error = function(e) NULL)

if (is.null(pubs) || !nrow(pubs)) {
  cat("⚠️ Could not retrieve publications from Google Scholar right now. Please re-render later.")
} else {
  top10 <- pubs |>
    mutate(year = suppressWarnings(as.integer(year))) |>
    arrange(desc(cites), desc(year)) |>
    slice_head(n = 9) |>
    mutate(
      # Build a stable link to the Scholar record
      link = glue(
        "https://scholar.google.com/citations?view_op=view_citation&user={id}&citation_for_view={id}:{pubid}"
      ),
      Title = ifelse(is.na(year), title, glue("{title} ({year})"))
    ) |>
    transmute(
      Title,
      Venue = journal,
      Citations = cites,
      LinkURL = link
    )

  cat("<h2 class='pub-heading'>Top Publications</h2>")
  cat("<div class='pub-grid'>")
  for (i in seq_len(nrow(top10))) {
    title <- top10$Title[i]
    venue <- top10$Venue[i]
    cites <- top10$Citations[i]
    link_url <- top10$LinkURL[i]
    bubble_html <- glue(
      "<div class='pub-bubble' role='button' tabindex='0' aria-label='{htmlEscape(title, attribute = TRUE)}' data-link='{htmlEscape(link_url, attribute = TRUE)}'>",
      "<div class='pub-flip'>",
      "<div class='pub-face pub-front'><div class='pub-title'>{htmlEscape(title)}</div></div>",
      "<div class='pub-face pub-back'>",
      "<div class='pub-title'>{htmlEscape(title)}</div>",
      "<div class='pub-meta'>Journal: {htmlEscape(venue)}</div>",
      "<div class='pub-meta'>Citations: {htmlEscape(as.character(cites))}</div>",
      "<a class='pub-open' href='{htmlEscape(link_url, attribute = TRUE)}' target='_blank' rel='noopener'>Open Scholar</a>",
      "</div>",
      "</div>",
      "</div>"
    )
    cat(bubble_html, "\n")
  }
  cat("</div>")
  cat("<script>\n( function(){\n  const grid = document.querySelector('.pub-grid');\n  if(!grid) return;\n\n  function closeOthers(current){\n    grid.querySelectorAll('.pub-bubble.is-flipped').forEach((el)=>{\n      if(el !== current) el.classList.remove('is-flipped');\n    });\n  }\n\n  grid.addEventListener('click', (e)=>{\n    const link = e.target.closest('.pub-open');\n    if(link) return;\n    const bubble = e.target.closest('.pub-bubble');\n    if(!bubble) return;\n    e.preventDefault();\n    const willFlip = !bubble.classList.contains('is-flipped');\n    closeOthers(bubble);\n    bubble.classList.toggle('is-flipped', willFlip);\n  });\n\n  grid.addEventListener('keydown', (e)=>{\n    const bubble = e.target.closest('.pub-bubble');\n    if(!bubble) return;\n    if(e.key === 'Enter' || e.key === ' '){\n      e.preventDefault();\n      const willFlip = !bubble.classList.contains('is-flipped');\n      closeOthers(bubble);\n      bubble.classList.toggle('is-flipped', willFlip);\n    }\n    if(e.key === 'Escape'){\n      bubble.classList.remove('is-flipped');\n    }\n  });\n\n  document.addEventListener('click', (e)=>{\n    if(e.target.closest('.pub-bubble')) return;\n    grid.querySelectorAll('.pub-bubble.is-flipped').forEach((el)=>el.classList.remove('is-flipped'));\n  });\n})();\n</script>\n")
}
```
