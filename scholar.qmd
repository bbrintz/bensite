---
format:
  html:
    toc: false
    code-fold: false
freeze: auto
---
::: {=html}
<style>
body {
  background-color: #040113ff;

}
a, a:link, a:visited {
  color: white;
}
a:hover, a:active {
  color: #EEEEEE;
}


/* Ensure Link column doesn't wrap */
.gt_table td:nth-last-child(1),
.gt_table th:nth-last-child(1) {
  white-space: nowrap;
  min-width: 80px;
}

/* Force gt table to be transparent on dark backgrounds */
.gt_table_container { background-color: transparent !important; }
/* Increase contrast and add text shadow for better readability */
.gt_table,
.gt_table .gt_heading,
.gt_table .gt_title,
.gt_table .gt_subtitle,
.gt_table .gt_col_headings,
.gt_table .gt_table_body,
.gt_table .gt_row,
.gt_table .gt_group_heading,
.gt_table .gt_sourcenotes,
.gt_table .gt_footnotes,
.gt_table .gt_stub,
.gt_table .gt_stub_row_group,
.gt_table .gt_column_spanner,
.gt_table .gt_column_spanner_outer,
.gt_table .gt_empty_group_heading {
  background-color: transparent !important;
  color: #d9d9d9 !important;
  text-shadow: 0 0 4px rgba(0,0,0,0.7);
}
/* Make gt table headers transparent */
.gt_table .gt_col_heading,
.gt_table .gt_column_spanner_outer,
.gt_table .gt_column_spanner {
  background-color: transparent !important;
}
/* Force column heading text to lighter color and add text shadow */
.gt_table .gt_col_heading {
  color: #d9d9d9 !important;
  text-shadow: 0 0 4px rgba(0,0,0,0.7);
}
/* Reaffirm transparent backgrounds for heading/title/subtitle */
.gt_table .gt_heading,
.gt_table .gt_title,
.gt_table .gt_subtitle {
  background-color: transparent !important;
}
/* Remove zebra striping/gradients if present */
.gt_table .gt_striped {
  background-color: transparent !important;
  background-image: none !important;
}
/* Subtle borders that work on dark mode */
.gt_table, .gt_table th, .gt_table td {
  border-color: rgba(255,255,255,0.25) !important;
}
/* Style links in gt_table for higher contrast and readability */
.gt_table a, .gt_table a:link, .gt_table a:visited {
  color: #d9d9d9 !important;
  text-decoration: underline;
  text-shadow: 0 0 4px rgba(0,0,0,0.7);
}
.gt_table a:hover, .gt_table a:active {
  color: #163D6B !important;
}

/* Highlight table text on hover */
.gt_table td:hover,
.gt_table th:hover {
  color: #ffffff !important; /* brighten text */
  text-shadow: 0 0 6px rgba(255,255,255,0.8);
  background-color: rgba(255,255,255,0.05) !important; /* subtle background highlight */
  transition: all 0.2s ease;
}

#bg-video {
  position: absolute;        /* or fixed if you truly want it behind everything */
  top: 0; left: 0;
  width: 100%;               /* fill the container’s width */
  height: 100%;              /* keep its aspect ratio */
  object-fit: cover;       /* don’t crop or zoom—show the full frame */
  z-index: -1;
}


/* --- Playful circular publication badges --- */
.pub-grid {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(220px, 1fr));
  gap: 20px;
  margin: 2rem 0 3rem 0;
}
.pub-bubble {
  position: relative;
  background: rgba(255,255,255,0.08);
  border: 1px solid rgba(255,255,255,0.25);
  border-radius: 50%;
  padding: 24px;
  min-height: 180px;
  display: flex;
  align-items: center;
  justify-content: center;
  text-align: center;
  color: #d9d9d9;
  box-shadow: 0 6px 18px rgba(0,0,0,0.35);
  transition: transform 220ms ease, box-shadow 220ms ease, background 220ms ease;
}
/* Slight quirky angles; snap to straight on hover */

.pub-title { font-weight: 600; line-height: 1.25; font-size: 0.95rem; }

.pub-bubble:hover {
  transform: scale(1.02);
  background: rgba(255,255,255,0.12);
  box-shadow: 0 10px 28px rgba(0,0,0,0.45);
}

/* Hidden detail reveal */
.pub-detail {
  position: absolute;
  bottom: 10px;
  left: 50%;
  transform: translateX(-50%) translateY(8px);
  width: calc(100% - 32px);
  padding: 10px 12px;
  border-radius: 12px;
  background: rgba(0,0,0,0.55);
  color: #e5e5e5;
  font-size: 0.9rem;
  line-height: 1.2;
  opacity: 0;
  pointer-events: none;
  transition: opacity 180ms ease, transform 180ms ease;
  box-shadow: 0 4px 14px rgba(0,0,0,0.4);
  z-index: 1;
}
.pub-bubble:hover .pub-detail { opacity: 1; transform: translateX(-50%) translateY(0); pointer-events: auto; }

/* Link styling inside bubbles */
.pub-actions { margin-top: 8px; font-size: 0.9rem; }
.pub-actions a { color: #d9d9d9 !important; text-decoration: underline; }
.pub-actions a:hover { color: #ffffff !important; }

/* Respect reduced motion */
@media (prefers-reduced-motion: reduce) {
  .pub-bubble, .pub-detail { transition: none; }
  .pub-bubble { transform: none !important; }
}
</style>
:::
<video autoplay muted loop playsinline id="bg-video">
  <source src="scholar.mp4" type="video/mp4">
</video>



```{r, include=TRUE, echo=FALSE, message=FALSE, warning=FALSE, results='asis'}
# install.packages("scholar") # run once
library(dplyr)
library(glue)
library(gt)
library(scholar)
library(htmltools)

id <- "nYA8PAsAAAAJ"  # Ben Brintz

# pull publications & guard against failures
pubs <- tryCatch(get_publications(id), error = function(e) NULL)

if (is.null(pubs) || !nrow(pubs)) {
  cat("⚠️ Could not retrieve publications from Google Scholar right now. Please re-render later.")
} else {
  top10 <- pubs |>
    mutate(year = suppressWarnings(as.integer(year))) |>
    arrange(desc(cites), desc(year)) |>
    slice_head(n = 9) |>
    mutate(
      # Build a stable link to the Scholar record
      link = glue(
        "https://scholar.google.com/citations?view_op=view_citation&user={id}&citation_for_view={id}:{pubid}"
      ),
      Title = ifelse(is.na(year), title, glue("{title} ({year})"))
    ) |>
    transmute(
      Title,
      Venue = journal,
      Citations = cites,
      Link = glue("<a href='{link}'>Scholar</a>")
    )

  cat("<h2 class='pub-heading'>Top Cited Publications</h2>")
  cat("<div class='pub-grid'>")
  apply(top10, 1, function(row) {
    title <- row[["Title"]]
    venue <- row[["Venue"]]
    cites <- row[["Citations"]]
    link  <- row[["Link"]]
    # Build one bubble per pub
    html <- paste0(
      "<div class='pub-bubble'>\n",
      "  <div class='pub-title'>", title, "</div>\n",
      "  <div class='pub-detail'>\n",
      "    <div><strong>Journal:</strong> ", venue, "</div>\n",
      "    <div><strong>Citations:</strong> ", cites, "</div>\n",
      "    <div class='pub-actions'>", link, "</div>\n",
      "  </div>\n",
      "</div>\n"
    )
    print(htmltools::HTML(html))
  })
  cat("</div>")
}
```
